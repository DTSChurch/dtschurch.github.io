<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DTS Dev Docs</title>
    <meta
      name="description"
      content="Development documentation hub for DTS Church Rock RMS plugins and systems."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,500;9..144,700&family=Work+Sans:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/styles.css" />
  </head>
  <body>
    <div class="site-bg" aria-hidden="true">
      <div class="glow glow-a"></div>
      <div class="glow glow-b"></div>
      <div class="grid-overlay"></div>
    </div>

    <header id="site-header"></header>

    <main class="page">
      <!-- Section 1: Documentation Hub -->
      <section class="hero reveal">
        <p class="eyebrow">Documentation Hub</p>
        <h1>Technical docs for DTS Rock RMS plugins.</h1>
        <p>
          The central hub for all DTS Church development documentation &mdash;
          setup guides, architecture references, and operational runbooks for
          every Rock RMS plugin and system we build.
        </p>
        <div class="hero-actions">
          <a class="btn btn-primary" href="https://dtschurch.com" target="_blank" rel="noopener">Visit DTSChurch.com</a>
          <a class="btn btn-ghost" href="projects.html">Browse All Projects</a>
        </div>
      </section>

      <!-- Section 2: Highlighted Projects (rendered dynamically from catalog) -->
      <section class="cards reveal" id="featured-cards"></section>

      <!-- Section 3: Quick Links (rendered dynamically from catalog) -->
      <section class="timeline reveal">
        <h2>Quick links</h2>
        <p class="footer-note">Jump straight to the most-used documentation pages.</p>
        <div class="quick-links" id="quick-links"></div>
      </section>
    </main>

    <script src="assets/catalog.js"></script>
    <script src="assets/nav.js"></script>
    <script src="assets/site.js"></script>
    <script>
      (function () {
        var catalog = window.DTS_CATALOG || [];

        // ── Featured project cards ──────────────────────────────────
        var cardsEl = document.getElementById("featured-cards");
        catalog.forEach(function (p) {
          if (!p.featured) return;

          var badgesHTML = "";
          if (p.badges && p.badges.length) {
            badgesHTML = '<div class="card-badges">';
            p.badges.forEach(function (b) {
              badgesHTML += '<span class="badge">' + b + "</span>";
            });
            badgesHTML += "</div>";
          }

          var card = document.createElement("article");
          card.className = "card feature-card";
          card.innerHTML =
            '<p class="card-kicker">' + p.group + "</p>" +
            badgesHTML +
            "<h2>" + p.name + "</h2>" +
            "<p>" + p.desc + "</p>" +
            '<a class="text-link" href="' + p.href + '">Browse documentation &rarr;</a>';

          cardsEl.appendChild(card);
        });

        // ── Quick links ─────────────────────────────────────────────
        var linksEl = document.getElementById("quick-links");
        catalog.forEach(function (p) {
          if (!p.quickLinks || !p.quickLinks.length) return;

          p.quickLinks.forEach(function (link) {
            var a = document.createElement("a");
            a.className = "quick-link";
            a.href = link.href;
            a.innerHTML =
              '<span class="quick-link-text">' +
                '<span class="quick-link-project">' + p.name + "</span>" +
                '<span class="quick-link-page">' + link.page + "</span>" +
              "</span>" +
              '<span class="quick-link-arrow">&rarr;</span>';
            linksEl.appendChild(a);
          });
        });
      })();
    </script>
  </body>
</html>
